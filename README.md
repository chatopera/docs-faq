# Chatopera Docs BOT

Documentation as a Chatbot. You know, for chat.

Parse local markdown docs inside directory recursivly, generate FAQs File for Chatopera BOT Platform.

Further import into a BOT on Chatopera, details in [doc](https://dwz.chatopera.com/754yr1).

## Install

Publish on npmjs, [link](https://www.npmjs.com/package/@chatopera/docsbot).

```
@chatopera/docsbot
```

Now, access with `docsbot` in CLI.

## Usage

```
docsbot --baseurl https://docs.chatopera.com/products/ \
    -i $DOCS_HOME \
    -f $DOCS_FOLDER \
    -o ./tmp/bot.faq.json
```

Assume your docs folders are like this:

```
$DOCS_HOME(Root dir)
├───chatbot-platform
│   ├───appendix
│   ├───contract
│   ├───explanations
│   ├───howto-guides
│   ├───references
│   │   ├───func-builtin
│   │   └───sdk
│   │       ├───chatbot
│   │       └───chatopera
│   └───tutorials
└───cskefu
    ├───channels
    │   └───messenger
    ├───osc
    └───work-chatbot
```

For example, `DOCS_HOME` is `~/chatopera/docs/docfx_project/products`, whose files are also hosted [here](https://github.com/chatopera/docs), the DOCS_FOLDER should be `chatbot-platform,cskefu`.

Further, the generate Urls are `{baseurl}\{docfoler}\{filepath}.html`.

- baseurl: set with command line
- docfoler: iterater with `DOCS_FOLDER`, split by `,`
- filepath: the markdown files in each `docfoler`, where extension `.md` is replaced with `.html`

## Upload into Chatopera BOT Platform

Install Chatopera SDK for `bot` CLI.

```
npm install -g @chatopera/sdk
```

Touch .env

```
# Chatopera BOT Service endpoint
BOT_PROVIDER=https://bot.chatopera.com
BOT_CLIENT_ID=xx
BOT_CLIENT_SECRET=xx
BOT_ACCESS_TOKEN=
# BOT_FAQ_FILE is generated by docsbot
BOT_FAQ_FILE=bot.faq.json
```

Run the job

```
source .env
bot faq -a import -f ./$BOT_FAQ_FILE
```

### Others

```
docsbot --help
```

## Development

```
npm install
node bin/cmd.js --help
cp sample.env .env
./scripts/dev.sh
```

## License

[Apache2](./LICENSE)
